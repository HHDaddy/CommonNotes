[Google Java Style(中文版)](https://github.com/HHDaddy/CommonNotes/edit/master/codeStyle/Google%20Java%20Style(%E4%B8%AD%E6%96%87%E7%89%88).md)  
作者：HHDaddy  
原文链接：[https://google-styleguide.googlecode.com/svn/trunk/javaguide.html](https://google-styleguide.googlecode.com/svn/trunk/javaguide.html)  
参考：[Google Java编程风格指南](http://www.hawstein.com/posts/google-java-style.html)  
说明：本文参考【Google Java编程风格指南】重新翻译了Google Java Style，指在学习标准的Java编码风格及提高英文阅读能力。凡阅者，请多多指教！

# 1 引言
本文档是Google Java源码标准编程规范的完整定义。当且仅当一个源文件符合本文所述的规范时，我们则认为它符合Google编程风格。  
类似于其他编码风格指南，我们不仅仅讨论编码风格美观的问题，也讨论其他一些约定及编码标准。然而，这份文档主要侧重于我们所普遍遵循的规则，对于那些不是明确强制要求的（无论是人为定义还是工具要求的），我们尽量避免提供意见或建议。  

## 1.1 术语说明
在本文中，除非另外指出：  
1.  术语`class`可表示普通类、枚举类、接口或者注解类型（@接口）。  
2.  术语`comment`总是指代实现的注释。我们不使用`documentation comments`一词，而使用`Javadoc`来代替。
其他的术语说明会在本文不同地方出现。

## 1.2 指南说明
本文中的示例代码不作为标准规范。也就是说，虽然示例代码是遵循Google编程风格，但并不是展现这些代码的唯一方式。示例中的可选的代码风格并不强制作为准则。

# 源文件基础知识

## 2.1 文件名
源文件名由其顶层类名及`.java`后缀组成，文件名对字母大小写敏感。

## 2.2 文件编码
源文件编码格式为`UTF-8`。

## 2.3 特殊字符

### 2.3.1 空白字符
除了行结束符序列，ASCII水平空白字符（`0x20`，即空格）是唯一可出现在文件任何位置的空白字符。这意味着：
1. 所有其它字符串中的空白字符都要进行转义。
2. 制表符不用于缩进（使用空格）。

### 2.3.2 特殊转义序列
对于具有特殊转义序列的任何字符(如\b, \t, \n, \f, \r, \“, \‘及\\)，我们使用它的转义序列，而不是相应的八进制(比如`\012`)或Unicode(比如`\u000a`)转义。

### 2.3.3 非ASCII字符
对于剩下的非ASCII码字符，是使用实际的Unicode字符（如`∞`）还是等价的Unicode转义字符（如`\u221e`），仅取决于哪一种可以使代码清晰易读。
> **Tip**:在使用Unicode转义字符或实际的Unicode字符时，给出明确的注释是会很有帮助的。

例：  

    String unitAbbrev = "μs";                             | 赞，即使没有注释也非常清晰
    String unitAbbrev = "\u03bcs"; // "μs"                | 允许，但没有理由要这样做
    String unitAbbrev = "\u03bcs"; // Greek letter mu, "s"| 允许，但这样做显得笨拙还容易出错
    String unitAbbrev = "\u03bcs";                        | 很糟，读者根本看不出这是什么
    return '\ufeff' + content; // byte order mark         | 很好，对于非打印字符，使用转义，并在必要时写上注释

> **Tip**：永远不好因为害怕某些程序无法正确处理非ASCII码字符而使你的代码可读性变差。如果出现程序无法处理非ASCII字符的情况，程序就会出错，你也就会去修复它了。  

# 3 源文件结构  
一个源文件包括（按顺序）：  
1. 许可证或版权信息（若需要）  
2. 包（`package`）语句  
3. 导入（`import`）语句  
4. 一个顶层类且只有一个  
以上所述每一部分都需由一个空行分隔。  

## 3.1 许可证或版权信息
如果源文件包含许可证或版权信息，那么它应当被放在文件最前面。

## 3.2 包语句
package语句不用换行。列限制（4.4节，列限制：80或100）不适用与package语句。

## 3.3 Import语句

### 3.3.1 不使用通配符
建议不适用通配符导入和静态导入。

### 3.3.2 不换行
package语句不用换行。列限制（4.4节，列限制：80或100）不适用与package语句。

### 3.3.3 顺序和间距
Import语句可分为一下几组，按如下顺序，每组一个空行分隔：  
1. 所有的静态导入为一组  
2. `com.google` imports(仅当这个源文件是在`com.google`包下)  
3. 第三方包。每个顶层包为一组，以ASCII码顺序排列。例如：`android, com, junit, org, sun`  
4. java imports  
5. javax imports

## 3.4 类声明

### 3.4.1 只有一个顶级类声明
每一个顶级类都在与其同名的源文件中。

### 3.4.2 类成员顺序
类的成员顺序对易学性有很大的影响，但这也不存在唯一的通用法则。不同类中的类成员顺序可能是不同的。  
重要的是每个类以某种逻辑顺序排序其类成员，维护者应该要能解释这种排序逻辑。例如，新的方法并不是习惯性的添加到类的尾部，因为这样就是按时间顺序而非某种逻辑顺序。  

#### 3.4.2.1 重载：永不分离
如果一个类包含多个构造函数，或多个同名的成员方法，他们应该按顺序放在一起，中间不要放进其他函数或方法。

# 4 格式化
**术语说明**：块状结构指的是一个类，方法或构造函数的主体。需要注意的是，数组初始化中的初始值可被选择性地视为块状结构(4.8.3.1节)。

## 4.1 大括号

### 4.1.1 使用大括号
大括号用于if、else、for、do以及while语句，即使程序块只有一条语句或着为空，也要加上大括号。

### 4.1.2 非空块：K&R风格
对于非空块和块状结构，大括号遵循K&R风格（[埃及括号](http://blog.codinghorror.com/new-programming-jargon/)）：

- 左大括号前不换行；
- 左大括号后换行；
- 右大括号前换行；
- 如果右大括号是一个语句、函数体或类的终止，则右大括号后换行; 否则不换行。例如，如果右大括号后面是else或逗号，则不换行。

例：

	return new MyClass() {
	  @Override public void method() {
	    if (condition()) {
	      try {
	        something();
	      } catch (ProblemException e) {
	        recover();
	      }
	    }
	  }
	};

4.8.1节给出了枚举类的一些例外。

### 4.1.3 空块：可以更简洁